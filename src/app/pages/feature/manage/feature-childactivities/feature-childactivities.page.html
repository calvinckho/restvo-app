<ion-header>
  <ion-toolbar *ngIf="modalPage">
    <ion-buttons slot="start">
      <ion-button (click)="closeModal()"><ion-icon name="chevron-back-outline"></ion-icon></ion-button>
    </ion-buttons>
    <ion-title>{{this.categoryLabel}}</ion-title>
  </ion-toolbar>
  <ion-toolbar>
    <ion-item [ngStyle]="{'font-size': platform.width() < 400 ? '11px' : '14px'}" lines="none">
      <div class="select-col"></div>
      <div class="user-col column-label" (click)="sortDisplay('activity')">{{this.categoryLabel}}<ion-icon [name]="activityAscending === true ? 'chevron-down-outline' : 'chevron-up-outline'"></ion-icon></div>
      <!--<div class="type-col column-label" (click)="sortDisplay('type')" *ngIf="!modalPage">Type<ion-icon [name]="typeAscending === true ? 'chevron-down-outline' : 'chevron-up-outline'"></ion-icon></div>-->
      <div class="status-col column-label" (click)="sortDisplay('share')">Sharing<ion-icon [name]="shareAscending === true ? 'chevron-down-outline' : 'chevron-up-outline'"></ion-icon></div>
      <div class="actions-col column-label">Actions</div>
    </ion-item>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-item *ngFor="let activity of activities; index as i" (click)="openChildActivity($event, activity, 'view')" [hidden]="!((activity.matrix_string[0][0].toLowerCase().indexOf(searchKeyword.toLowerCase()) > -1 || activity.resource['en-US'].value[0].toLowerCase().indexOf(searchKeyword.toLowerCase()) > -1))">
      <ion-buttons class="select-col">
        <ion-button (click)="selectParticipant($event, activity)" fill="clear" *ngIf="!activity.select">
          <ion-icon color="tertiary" name="radio-button-off"></ion-icon>
        </ion-button>
        <ion-button (click)="unselectParticipant($event, activity)" fill="clear" *ngIf="activity.select" >
          <ion-icon color="tertiary" name="checkmark-circle"></ion-icon>
        </ion-button>
      </ion-buttons>
      <div class="user-col" *ngIf="platform.width() < 992">
        <ion-avatar class="user-avatar">
          <ion-img [src]="(activity.assets && activity.assets.length && activity.assets[0]) | background: activity._id"></ion-img>
        </ion-avatar>
        <ion-label class="name-label ion-text-center ion-text-wrap">
          {{activity.matrix_string[0][0]}}
        </ion-label>
      </div>
      <div class="avatar-col" *ngIf="platform.width() >= 992">
        <ion-avatar class="user-avatar">
          <ion-img [src]="(activity.assets && activity.assets.length && activity.assets[0]) | background: activity._id"></ion-img>
        </ion-avatar>
      </div>
      <div class="name-col" *ngIf="platform.width() >= 992">
        <ion-label class="name-label ion-text-wrap">
          {{activity.matrix_string[0][0]}}
        </ion-label>
      </div>
      <!--<div class="ion-text-wrap type-col column-label" *ngIf="!modalPage">{{activity.resource['en-US'].value[0]}}</div>-->
      <div class="ion-text-wrap status-col column-label" style="font-size: 8px"><span *ngIf="activity.array_boolean[1]">Share with Participants</span></div>
      <!--<ion-button class="action-label" (click)="openChildActivity($event, activity, 'view')" fill="clear"><ion-icon name="open-outline"></ion-icon></ion-button>-->
      <ion-buttons class="actions-col ion-justify-content-evenly">
        <ion-button (click)="openChildActivity($event, activity, 'manage')" fill="clear"><ion-icon name="key-outline"></ion-icon></ion-button>
        <ion-button (click)="openChildActivity($event, activity, 'edit')" fill="clear"><ion-icon name="build-outline"></ion-icon></ion-button>
        <ion-button (click)="pushToMessagePage($event, activity)" fill="clear"><ion-icon name="chatbubbles-outline"></ion-icon></ion-button>
      </ion-buttons>
    </ion-item>
  </ion-list>
</ion-content>
