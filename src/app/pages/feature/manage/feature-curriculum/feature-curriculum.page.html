<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start" *ngIf="modalPage">
      <ion-button fill="solid" (click)="closeModal(false)" color="grey"><ion-icon name="chevron-back-outline"></ion-icon></ion-button>
    </ion-buttons>
    <ion-title>
      {{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}
    </ion-title>
    <ion-checkbox [(ngModel)]="showOnlyPartialDay" slot="end" *ngIf="view !== CalendarView.Month">6am - 6pm</ion-checkbox>
  </ion-toolbar>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button fill="solid">
        <div
                class="btn btn-primary"
                mwlCalendarPreviousView
                [view]="view"
                [(viewDate)]="viewDate"
                (viewDateChange)="closeOpenMonthViewDay()"
        >
          <span *ngIf="platform.width() >= 768">Previous</span>
          <span *ngIf="platform.width() < 768"><ion-icon name="chevron-back-outline"></ion-icon></span>
        </div>
      </ion-button>
      <ion-button fill="solid">
        <div
                class="btn btn-outline-secondary"
                mwlCalendarToday
                [(viewDate)]="viewDate"
        >
          Today
        </div>
      </ion-button>
      <ion-button fill="solid">
        <div
                class="btn btn-primary"
                mwlCalendarNextView
                [view]="view"
                [(viewDate)]="viewDate"
                (viewDateChange)="closeOpenMonthViewDay()"
        >
          <span *ngIf="platform.width() >= 768">Next</span>
          <span *ngIf="platform.width() < 768"><ion-icon name="chevron-forward-outline"></ion-icon></span>
        </div>
      </ion-button>
    </ion-buttons>

    <ion-buttons slot="end">
      <ion-button fill="solid">
        <div
                class="btn btn-primary"
                (click)="setView(CalendarView.Month)"
                [class.active]="view === CalendarView.Month"
        >
          Month
        </div>
      </ion-button>
      <ion-button fill="solid">
        <div
                class="btn btn-primary"
                (click)="setView(CalendarView.Week)"
                [class.active]="view === CalendarView.Week"
        >
          Week
        </div>
      </ion-button>
      <ion-button fill="solid">
        <div
                class="btn btn-primary"
                (click)="setView(CalendarView.Day)"
                [class.active]="view === CalendarView.Day"
        >
          Day
        </div>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div [ngSwitch]="view">
    <mwl-calendar-month-view
            *ngSwitchCase="CalendarView.Month"
            [viewDate]="viewDate"
            [events]="contentCalendarItems"
            [refresh]="refresh"
            [activeDayIsOpen]="activeDayIsOpen"
            (dayClicked)="dayClicked($event.day)"
            (eventClicked)="clickEvent($event.event)"
            (eventTimesChanged)="eventTimesChanged($event)"
    >
    </mwl-calendar-month-view>
    <mwl-calendar-week-view
            *ngSwitchCase="CalendarView.Week"
            [viewDate]="viewDate"
            [events]="contentCalendarItems"
            [refresh]="refresh"
            [dayStartHour]="showOnlyPartialDay ? 6 : 0"
            [dayEndHour]="showOnlyPartialDay ? 18 : 24"
            (eventClicked)="clickEvent($event.event)"
            (eventTimesChanged)="eventTimesChanged($event)"
    >
    </mwl-calendar-week-view>
    <mwl-calendar-day-view
            *ngSwitchCase="CalendarView.Day"
            [viewDate]="viewDate"
            [events]="contentCalendarItems"
            [refresh]="refresh"
            [dayStartHour]="showOnlyPartialDay ? 6 : 0"
            [dayEndHour]="showOnlyPartialDay ? 18 : 24"
            (eventClicked)="clickEvent($event.event)"
            (eventTimesChanged)="eventTimesChanged($event)"
    >
    </mwl-calendar-day-view>
  </div>
</ion-content>
